import{i as P,r as m,j as e,k,l as u,f as p,A as E}from"./index-eab7dac9.js";var A=typeof self=="object"?self.FormData:window.FormData;const h=P(A),O=({data:t,handleInputChange:l,link:i,changeLink:x,fields:c,changeFields:j,name:f,handleSubmit:g,handleCancel:v,changeCategory:y})=>{const b=async s=>{const r=s.target.files[0];if(r){let o=new h;o.append("size","auto"),o.append("image_file",r);try{const a=await u({method:"post",url:"https://api.remove.bg/v1.0/removebg",data:o,responseType:"arraybuffer",headers:{"X-Api-Key":"ZiGFnjdFnHB6AQZuj9YXURE3"}});if(a.status!==200){p.error("Error removing background");return}console.log(a);const C=new Blob([a.data],{type:"image/png"});o=new h,o.append("file",C,"photo.png"),o.append("upload_preset","shopkart");const d=await u.post("https://api.cloudinary.com/v1_1/deohymauz/image/upload",o,{headers:{"Content-Type":"multipart/form-data"}});x(d.data.secure_url),p.success(d.data.secure_url)}catch(a){console.error("Request failed:",a)}}},N=(s,r,o)=>{const a=[...c];a[s]||(a[s]={size:r,quantity:0}),a[s].quantity=o.target.value,j(a)},[n,F]=m.useState([]);m.useEffect(()=>{(async()=>{try{const r=await E.get("product/options");console.log(r.data),F({...r.data})}catch(r){console.log(r)}})()},[]);const w=["Red","Green","Blue","Cyan","Magenta","Yellow","Black","White","Gray","Lime","Maroon","Navy","Olive","Purple","Silver"];return e.jsxs("form",{className:"order-table",children:[e.jsxs("div",{className:"dash-input-1",children:[e.jsxs("div",{style:{width:"100%"},children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"name",children:"Product Name"}),e.jsx("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter product name",value:t.name,onChange:l})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"desc",children:"Product Description"}),e.jsx("textarea",{rows:4,placeholder:"Enter product description",id:"desc",className:"form-control",value:t.desc,onChange:l})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"sku",children:"Product SKU Number"}),e.jsx("input",{type:"text",className:"form-control",id:"sku",value:t.sku,onChange:l,placeholder:"Enter product SKU number"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"price",children:"Price"}),e.jsx("input",{type:"number",className:"form-control",id:"price",value:t.price,onChange:l,min:0,placeholder:"Enter product price"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"features",children:"Product Features (one per line)"}),e.jsx("textarea",{rows:4,className:"form-control",id:"features",value:t.features?t.features.join(`
`):"",onChange:s=>{const r=s.target.value.split(`
`).filter(o=>o.trim()!=="");l({target:{id:"features",value:r}})},placeholder:"Enter product features, one per line"})]})]}),e.jsx("div",{className:"admin-upload",children:e.jsxs("label",{htmlFor:"dropzone-file",children:[e.jsx("div",{children:i?e.jsx("img",{src:i,alt:"Preview"}):e.jsxs(e.Fragment,{children:[e.jsx("svg",{"aria-hidden":"true",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 16",children:e.jsx("path",{stroke:"currentColor",strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M13 13h3a3 3 0 0 0 0-6h-.025A5.56 5.56 0 0 0 16 6.5 5.5 5.5 0 0 0 5.207 5.021C5.137 5.017 5.071 5 5 5a4 4 0 0 0 0 8h2.167M10 15V6m0 0L8 8m2-2 2 2"})}),e.jsx("p",{children:"Click to upload or drag and drop"})]})}),e.jsx("input",{id:"dropzone-file",type:"file",style:{display:"none"},onChange:b})]})})]}),e.jsxs("div",{className:"dash-input-2",children:[e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"color",children:"Product Color"}),e.jsxs("select",{className:"form-control",id:"color",onChange:l,value:t.color,children:[e.jsx("option",{value:"",children:"Select a color"}),w.map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"brand",children:"Product Brand"}),e.jsxs("select",{className:"form-control",id:"brand",onChange:l,value:t.brand,children:[e.jsx("option",{value:"",children:"Select a brand"}),n.brandOptions&&n.brandOptions.map((s,r)=>e.jsx("option",{value:s,children:s},r))]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"material",children:"Product Material"}),e.jsx("input",{type:"text",className:"form-control",id:"material",value:t.material,onChange:l,placeholder:"Enter product material"})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"featured",children:"Product Featured"}),e.jsxs("select",{className:"form-control",id:"featured",onChange:l,value:t.featured,children:[e.jsx("option",{value:"false",children:"false"})," ",e.jsx("option",{value:"true",children:"true"})]})]})]}),e.jsxs("div",{className:"form-group",children:[e.jsx("label",{htmlFor:"category",children:"Product Category"}),e.jsx(k,{customWidth:!0,multiple:!0,options:n.categoryOptions?n.categoryOptions.map(s=>({value:s,label:s})):[],value:t.category===""?[]:t.category.split(","),onChange:s=>{y(s.join(","))}})]}),e.jsx("div",{className:"orderContainer",style:{flexDirection:"column"},children:e.jsxs("table",{className:"order-table",children:[e.jsx("thead",{children:e.jsxs("tr",{children:[e.jsx("th",{className:"order-subheader order-th",children:"Size"}),Array.from({length:12},(s,r)=>r+3).map((s,r)=>e.jsx("th",{className:"order-subheader order-th",children:s},r))]})}),e.jsx("tbody",{className:"order-table-tbody",children:e.jsxs("tr",{children:[e.jsx("td",{className:"order-td",children:"Quantity"}),Array.from({length:12},(s,r)=>r+3).map((s,r)=>{var o;return e.jsx("td",{className:"order-td",style:{padding:"0rem"},children:e.jsx("input",{type:"number",style:{width:"100%",height:"100%",textAlign:"center",padding:"1rem 0",border:"none",outline:"none"},min:0,className:"form-control",id:`qty${r}`,name:"quantity",value:((o=c[r])==null?void 0:o.quantity)||0,placeholder:"Enter product quantity for size",onChange:a=>N(r,s,a)})},r)})]})})]})}),e.jsxs("div",{className:"dash-input-4",children:[e.jsx("button",{type:"button",onClick:v,children:"Cancel"}),e.jsx("button",{type:"submit",onClick:g,className:"btn btn-primary",children:f})]})]})};export{O as P};
