import{r as c,u as k,j as s,f as r,A as P}from"./index-eab7dac9.js";import{P as S}from"./ProductForm-1e25a1b1.js";const N=()=>{const[e,d]=c.useState({name:"",desc:"",sku:"",price:"",color:"",brand:"",material:"",category:"",featured:"false"}),[n,f]=c.useState(null),[i,p]=c.useState([]),l=k(),x=t=>{p(t)},A=t=>{f(t)},v=t=>{d({...e,[t.target.id]:t.target.value})},y=t=>{d({...e,category:t})},j=async t=>{var u,m;t.preventDefault();try{const a=localStorage.getItem("jwtAdmin");if(!a)return r.error("Access denied.");const g=i.filter(h=>h&&h.quantity>0);if(g.length===0||!e.name||!e.desc||!e.sku||!e.price||!e.color||!e.brand||!e.material||!e.featured||!n)return r.error("Please fill all the fields.");const o=await P.post("/product/create",{...e,sizeQuantity:g,image:n},{headers:{Authorization:a}});console.log(o),o.data.success&&(r.success(o.data.message),l("/admin/products"))}catch(a){r.error((m=(u=a==null?void 0:a.response)==null?void 0:u.data)==null?void 0:m.message),console.log(a)}};return s.jsxs("div",{className:"orderMainContainer",children:[s.jsx("h1",{className:"cHeader",style:{textAlign:"left",marginBottom:"1rem"},children:"Add Product"}),s.jsx("div",{className:"dashOverview",children:s.jsx(S,{link:n,changeLink:A,data:e,handleInputChange:v,fields:i,changeFields:x,name:"Add Product",changeCategory:y,handleSubmit:j,handleCancel:()=>l("/admin/products")})})]})};export{N as default};
